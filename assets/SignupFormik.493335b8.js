import{af as p,a7 as h,e as r,F as b,j as e,ab as g,a9 as f,ac as d,Y as y,ar as w,as as x,d as F,aD as S}from"./vendor.f24883fb.js";import{c as j,a as i,F as q,b as N,I as t,g as v}from"./FirebaseAuthError.c83be632.js";import{b as C}from"./firebaseAuth.d6a38ea5.js";import{P as k,b as H}from"./index.940a39a8.js";const L=j({password:i().min(6,"Password at least 6 characters").required("Required"),email:i().email("Invalid email address").required("Required"),firstName:i().max(15).required("Required"),lastName:i().max(15).required("Required")}),E=()=>{const l=p();let c=h();return r(b,{children:[e(k,{title:"Todoist Clone Firebase"}),r(g,{centerContent:!0,display:"flex",alignItems:"center",justifyContent:"center",minH:"100vh",py:2,pb:32,children:[e(f,{as:"h2",pb:"8",children:"Signup"}),e(q,{initialValues:{email:"",password:"",firstName:"",lastName:""},onSubmit:async({email:s,password:u,firstName:n,lastName:o})=>{try{const a=await C(s,u);a.user.isAnonymous||(await H(a.user.uid,{email:s,firstName:n,lastName:o,id:a.user.uid}),await S(a.user,{displayName:`${n} ${o}`})),c("/app/inbox",{replace:!0}),l({description:`Welcome aboard ${n}!`,status:"info",duration:9e3,isClosable:!0})}catch(a){const m=v(a.code);l({description:m,status:"error",duration:9e3,isClosable:!0})}},validationSchema:L,children:s=>r(d,{as:N,spacing:4,children:[e(t,{name:"firstName",label:"First Name",placeholder:"John",type:"text"}),e(t,{name:"lastName",label:"Last Name",placeholder:"Doe",type:"text"}),e(t,{name:"email",label:"Email",placeholder:"example@email.com",type:"email"}),e(t,{name:"password",label:"Password",placeholder:"",type:"password"}),r(y,{children:["Already have an account?",e(w,{as:x,to:"/login",color:"blue",fontWeight:"500",ml:4,children:"Login here"})]}),e(d,{w:"full",pt:4,children:e(F,{type:"submit",isLoading:s.isSubmitting,isFullWidth:!0,colorScheme:"blue",children:"Signup"})})]})})]})]})};export{E as default};
